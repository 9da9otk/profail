<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>سعد السبيعي | الشهادات والإنجازات – ثنائي اللغة</title>
  <meta name="description" content="موقع شخصي ثنائي اللغة لعرض الشهادات والإنجازات والخبرات المهنية لسعد السبيعي بطريقة احترافية وخفيفة." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">

  <!-- Canonical & SEO -->
  <link rel="canonical" href="https://example.com/" />
  <meta name="robots" content="index,follow" />

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="سعد السبيعي | الشهادات والإنجازات">
  <meta property="og:description" content="ملف شخصي ثنائي اللغة يعرض الإنجازات والشهادات والمهارات مع معاينة للشهادات.">
  <meta property="og:image" content="cover.png">
  <meta property="og:locale" content="ar_SA">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="SaaD AlsuBaie | Certificates & Achievements">
  <meta name="twitter:description" content="Bilingual portfolio with achievements, certificates preview, and contact.">
  <meta name="twitter:image" content="cover.png">

  <!-- Favicon (monogram 'S') -->
  <link rel="icon" type="image/svg+xml" href='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop stop-color="#0f172a"/><stop offset="1" stop-color="#06b6d4"/></linearGradient></defs><rect width="64" height="64" rx="12" fill="url(%23g)"/><text x="50%" y="54%" text-anchor="middle" font-family="Verdana" font-size="36" fill="white">S</text></svg>' />

  <style>
    :root{
      --brand-primary:#0f172a;   /* Navy professional */
      --brand-primary-2:#0b1221; /* deeper navy */
      --brand-accent:#06b6d4;    /* cyan accent */
      --brand-accent-2:#22d3ee;  /* bright accent */
      --sand:#f6f7fb;            /* soft background */
      --ink:#0a0a0a;
      --muted:#667085;
      --card:#ffffff;
      --shadow:0 10px 30px rgba(2,6,23,.12);
      --radius:20px;
      --radius-sm:14px;
      --max:1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; background:linear-gradient(180deg,var(--sand),#ffffff 40%); color:var(--ink); font-family:"Cairo", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; line-height:1.7; overflow-x:hidden}
    a{color:var(--brand-accent); text-decoration:none}
    img{max-width:100%; display:block}
    .container{width:100%; max-width:var(--max); margin-inline:auto; padding:0 20px}

    /* Header */
    header{position:sticky; top:0; z-index:50; backdrop-filter:saturate(1.2) blur(8px); background:linear-gradient(180deg, rgba(246,247,251,.86), rgba(255,255,255,.7)); border-bottom:1px solid #eee}
    .nav{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:12px 0}
    .brand{display:flex; align-items:center; gap:12px}
    .brand__logo{width:40px; height:40px; border-radius:12px; background:linear-gradient(135deg,var(--brand-primary),var(--brand-primary-2)); display:grid; place-items:center; color:#fff; font-weight:800}
    .brand__txt{font-weight:800; letter-spacing:.5px}
    .nav__cta{display:flex; gap:10px; align-items:center}
    .btn{border:0; cursor:pointer; padding:10px 16px; border-radius:12px; font-weight:700}
    .btn--ghost{background:#fff; border:1px solid #eee}
    .btn--accent{background:var(--brand-accent); color:#05202a}

    /* Hero */
    .hero{position:relative; padding:56px 0 28px; overflow:hidden}
    .hero__grid{display:grid; grid-template-columns:1.2fr .8fr; gap:28px; align-items:center}
    .profile{display:flex; gap:14px; align-items:center; margin-top:12px}
    .profile img{width:92px; height:92px; border-radius:18px; object-fit:cover; border:3px solid #fff; box-shadow:var(--shadow)}
    .badge{display:inline-flex; align-items:center; gap:8px; padding:6px 12px; border-radius:999px; font-weight:700; background:linear-gradient(90deg,var(--brand-primary),var(--brand-primary-2)); color:#fff}
    h1{margin:16px 0 8px; font-size:clamp(28px,5vw,40px); line-height:1.2}
    .lead{color:#333; font-size:18px; max-width:60ch}
    .hero__card{background:var(--card); border:1px solid #eee; border-radius:var(--radius); padding:18px; box-shadow:var(--shadow)}
    .kpis{display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-top:16px}
    .kpi{background:#fff; border:1px solid #eee; border-radius:16px; padding:14px; text-align:center}
    .kpi strong{display:block; font-size:22px; color:var(--brand-primary)}

    /* Section */
    section{padding:34px 0}
    .section__head{display:flex; align-items:center; justify-content:space-between; margin-bottom:18px}
    .section__title{font-size:24px; margin:0}
    .section__desc{color:var(--muted)}

    /* Cards Grid */
    .grid{display:grid; gap:16px}
    .grid--3{grid-template-columns:repeat(3,1fr)}
    .grid--2{grid-template-columns:repeat(2,1fr)}
    @media (max-width:900px){.hero__grid{grid-template-columns:1fr}.grid--3{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:640px){.grid--3,.grid--2{grid-template-columns:1fr}}

    .card{background:var(--card); border:1px solid #eee; border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden}
    .card__body{padding:16px}
    .card__title{margin:0 0 6px; font-size:18px}
    .meta{color:var(--muted); font-size:14px}

    /* Timeline */
    .timeline{position:relative; margin:6px 0 0; padding:0; list-style:none}
    .timeline::before{content:""; position:absolute; inset-inline-start:18px; top:0; bottom:0; width:2px; background:linear-gradient(var(--brand-accent), transparent)}
    .tl{position:relative; margin:0 0 18px 0; padding-inline-start:48px}
    .tl::marker{content:""}
    .tl .dot{position:absolute; inset-inline-start:10px; top:2px; width:18px; height:18px; border-radius:50%; background:var(--brand-accent); border:3px solid #fff; box-shadow:0 0 0 2px rgba(34,211,238,.35)}
    .tl h4{margin:0 0 6px}

    /* Certificates Gallery */
    .cert{display:grid; grid-template-columns:84px 1fr; gap:14px; align-items:center; padding:14px; border-top:1px dashed #eee}
    .cert:first-child{border-top:0}
    .cert img{width:84px; height:64px; object-fit:cover; border-radius:10px; border:1px solid #eee}
    .cert__title{margin:0; font-size:16px}

    /* Footer */
    footer{padding:28px 0 48px; border-top:1px solid #eee; background:#fff}
    .foot{display:flex; gap:12px; justify-content:space-between; align-items:center; flex-wrap:wrap}

    /* Chips */
    .chips{display:flex; gap:8px; flex-wrap:wrap}
    .chip{background:#fff; border:1px solid #eee; border-radius:999px; padding:6px 10px; font-size:14px}

    /* Modal */
    .modal{position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.55); padding:20px; z-index:100}
    .modal__box{background:#fff; max-width:min(1000px,95vw); max-height:90vh; border-radius:16px; overflow:hidden; box-shadow:var(--shadow)}
    .modal__head{display:flex; justify-content:space-between; align-items:center; padding:10px 14px; border-bottom:1px solid #eee}
    .modal__body{padding:0; background:#000}
    .modal__body img{width:100%; height:auto}
    .close{background:#fff; border:1px solid #eee; border-radius:12px; padding:6px 12px; cursor:pointer}

    /* Contact Icons */
    #contactList{display:flex; gap:12px; align-items:center; padding:8px 0; list-style:none}
    #contactList li{list-style:none}
    .icon{width:20px; height:20px; display:inline-block}
    .iconbtn{display:grid; place-items:center; width:44px; height:44px; border-radius:12px; background:#fff; border:1px solid #eee; box-shadow:var(--shadow); color:var(--brand-primary)}
    .iconbtn:hover{transform:translateY(-1px); box-shadow:0 12px 24px rgba(2,6,23,.12)}

    /* Utilities */
    .accent{color:var(--brand-accent)}
    .surface{background:#fff; border-radius:var(--radius); border:1px solid #eee; box-shadow:var(--shadow)}
    .hidden{display:none}
  </style>

  <!-- Schema.org Person -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "سعد السبيعي",
    "jobTitle": "مدير مناوب | أمن وسلامة",
    "url": "https://example.com/",
    "sameAs": ["https://www.linkedin.com/in/s3dsu"]
  }
  </script>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <div class="brand__logo" aria-hidden>CV</div>
        <div class="brand__txt" id="brandTxt"></div>
      </div>
      <nav class="nav__cta" aria-label="Main navigation">
        <a id="navAch" href="#achievements" class="btn btn--ghost"></a>
        <a id="navCert" href="#certificates" class="btn btn--ghost"></a>
        <a id="navCV" href="cv.pdf" class="btn btn--accent" target="_blank" rel="noopener" download></a>
        <button id="langToggle" class="btn btn--ghost" aria-label="Language">EN</button>
      </nav>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero">
      <div class="container hero__grid">
        <div>
          <span class="badge" id="heroBadge"></span>
          <h1 id="heroTitle"></h1>
          <p class="lead" id="heroLead"></p>
          <div class="profile">
            <img id="profileImg" src="profile.jpg" alt="صورة شخصية – سعد السبيعي" onerror="this.onerror=null; this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 128 128\'><defs><linearGradient id=\'g\' x1=\'0\' y1=\'0\' x2=\'1\' y2=\'1\'><stop stop-color=\'#0f172a'/><stop offset=\'1\' stop-color=\'#06b6d4'/></linearGradient></defs><rect width=\'128\' height=\'128\' rx=\'20\' fill=\'url(%23g)\'/><circle cx=\'64\' cy=\'50\' r=\'22\' fill=\'white\'/><rect x=\'26\' y=\'80\' width=\'76\' height=\'32\' rx=\'16\' fill=\'white\'/></svg>'" />
            <div class="chips" id="heroChips"></div>
          </div>
          <div class="kpis" aria-label="Key numbers">
            <div class="kpi"><strong id="kpi-years">19</strong><span class="meta" id="kpiYearsLbl"></span></div>
            <div class="kpi"><strong id="kpi-certs">60+</strong><span class="meta" id="kpiCertsLbl"></span></div>
            <div class="kpi"><strong id="kpi-projects">30</strong><span class="meta" id="kpiProjectsLbl"></span></div>
          </div>
        </div>
        <aside>
          <div class="hero__card">
            <div class="section__head" style="margin:0 0 6px"><h3 class="section__title" id="sideTitle" style="font-size:18px"></h3></div>
            <p id="sideText" style="margin:0 0 8px"></p>
            <div class="chips" id="sideChips"></div>
          </div>
        </aside>
      </div>
    </section>

    <!-- ACHIEVEMENTS -->
    <section id="achievements">
      <div class="container">
        <div class="section__head">
          <h2 class="section__title" id="achievementsTitle"></h2>
          <p class="section__desc" id="achievementsDesc"></p>
        </div>
        <ul class="timeline" id="achievementsList"></ul>
      </div>
    </section>

    <!-- CERTIFICATES -->
    <section id="certificates">
      <div class="container">
        <div class="section__head">
          <h2 class="section__title" id="certificatesTitle"></h2>
          <p class="section__desc" id="certificatesDesc"></p>
        </div>
        <div class="surface" style="padding:6px" id="certsBox"></div>
      </div>
    </section>

    <!-- SKILLS / TOOLS -->
    <section id="skills">
      <div class="container">
        <div class="section__head">
          <h2 class="section__title" id="skillsTitle"></h2>
          <p class="section__desc" id="skillsDesc"></p>
        </div>
        <div class="grid grid--3" id="skillsGrid"></div>
      </div>
    </section>

    <!-- CONTACT / CTA -->
    <section id="contact">
      <div class="container">
        <div class="grid grid--2">
          <div class="card"><div class="card__body">
            <h3 class="card__title" id="contactTitle"></h3>
            <p class="meta" id="contactHint"></p>
            <ul style="margin:0; padding:0 18px 0 0" id="contactList"></ul>
          </div></div>
          <div class="card"><div class="card__body">
            <h3 class="card__title" id="cvTitle"></h3>
            <p class="meta" id="cvHint"></p>
            <a class="btn btn--accent" id="cvBtn" href="cv.pdf" target="_blank" rel="noopener" download></a>
          </div></div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container foot">
      <small id="copyright"></small>
      <div class="chips">
        <span class="chip" id="f1"></span>
        <span class="chip" id="f2"></span>
        <span class="chip" id="f3"></span>
      </div>
    </div>
  </footer>

  <!-- Modal for certificate preview -->
  <div class="modal" id="modal">
    <div class="modal__box">
      <div class="modal__head">
        <strong id="modalTitle">Preview</strong>
        <button class="close" id="closeModal"></button>
      </div>
      <div class="modal__body"><img id="modalImg" alt="certificate preview" loading="lazy"></div>
    </div>
  </div>

  <script>
    // ===== الملف الشخصي =====
    const PROFILE = {
      name: "سعد السبيعي",
      years: 19,
      certsCount: 60,
      projectsCount: 30,
      email: "sa888e@gmail.com",
      phone: "0571441777",
      linkedin: "https://www.linkedin.com/in/s3dsu",
      photo: "profile.jpg"+""+"" // ارفقنا الصورة كبيانات مضمّنة (لا حاجة لرفع ملف)
    };

    // ===== المحتوى ثنائي اللغة =====
    const I18N = {
      ar: {
        brand: "شهاداتي وإنجازاتي",
        nav: { ach: "الإنجازات", cert: "الشهادات", cv: "تحميل السيرة" },
        heroBadge: "سيرة مهنية • أمن وسلامة",
        heroTitle: (p)=>`مرحبًا، أنا <span class="accent">${p.name}</span> — مدير مناوب وقائد عمليات أمن وسلامة بخبرة تتجاوز <strong>${fmtNum(p.years)}+ سنة</strong>.`,
        heroLead: "هذا الموقع يعرض إنجازاتي وشهاداتي وروابط الأعمال والتوصيات. واجهة احترافية وخفيفة للعرض في السيرة الذاتية والمراسلات.",
        heroChips: ["إدارة العمليات","السلامة وإدارة المخاطر","لوحات مؤشرات KPI","GIS & Power BI"],
        kpiYears: "سنوات خبرة", kpiCerts: "شهادة وتدريب", kpiProjects: "مشروع رئيسي",
        sideTitle: "نبذة سريعة",
        sideText: "مدير مناوب لمشروع الأمن والحركة المرورية في الدرعية، عضو في جمعيات مهنية، ومطور حلول رقمية لرفع كفاءة التقارير والتشغيل.",
        sideChips: ["Power BI","Django","Flutter","MapLibre / GIS"],
        achievementsTitle: "الإنجازات البارزة",
        achievementsDesc: "ملخص لأهم الإنجازات المرتبطة بالنتائج والأثر.",
        certificatesTitle: "الشهادات والدورات",
        certificatesDesc: "عينة منتقاة من الشهادات مع روابط ومعاينة.",
        skillsTitle: "المهارات والأدوات",
        skillsDesc: "مجالات الخبرة التقنية والعملية.",
        skills: [
          { title: "إدارة أمن وسلامة", meta: "خطط تشغيل، تقييم مخاطر، استجابة للحوادث، تدريب فرق.", chips:["SOPs","Risk","HSE"]},
          { title: "تحليل البيانات ولوحات التحكم", meta: "مقاييس الأداء، مؤشرات، خرائط حرارية، مصادر متعددة.", chips:["Power BI","Excel","Vega"]},
          { title: "التحول الرقمي", meta: "تطبيقات داخلية، أتمتة النماذج، تكامل قواعد البيانات.", chips:["Django","Flutter","Supabase"]},
        ],
        contactTitle: "معلومات التواصل",
        contactHint: "حدِّث البيانات أدناه قبل النشر.",
        contactList: [
          { type: "email", label: "Email", value: PROFILE.email, href: `mailto:${PROFILE.email}`},
          { type: "phone", label: "Phone", value: PROFILE.phone, href: `tel:+966571441777`},
          { type: "whatsapp", label: "WhatsApp", value: "+966 57 144 1777", href: `https://wa.me/966571441777"linkedin", label: "LinkedIn", value: "linkedin.com/in/s3dsu", href: PROFILE.linkedin },
        ],
        cvTitle: "ملف السيرة الذاتية",
        cvHint: "أضف رابطًا لملف PDF الخاص بسيرتك الذاتية.",
        cvBtn: "تنزيل السيرة الذاتية (PDF)",
        modalClose: "إغلاق",
        certPreview: "معاينة",
        certOpen: "فتح الصورة",
        footer: {
          copy: ()=>`© ${new Date().getFullYear()} جميع الحقوق محفوظة • موقع شخصي`,
          chips: ["نسخة خفيفة وسريعة","تصميم متجاوب","جاهز للنشر"],
        },
      },
      en: {
        brand: "Certificates & Achievements",
        nav: { ach: "Achievements", cert: "Certificates", cv: "Download CV" },
        heroBadge: "Professional Profile • HSE & Security",
        heroTitle: (p)=>`Hi, I'm <span class="accent">${p.name}</span> — Duty Manager & Operations Lead with <strong>${fmtNum(p.years)}+ years</strong> in Security & Safety.`,
        heroLead: "This site showcases my achievements, certifications, and work samples. A fast, professional landing page for CVs and outreach.",
        heroChips: ["Operations Management","Safety & Risk","KPI Dashboards","GIS & Power BI"],
        kpiYears: "Years Experience", kpiCerts: "Certs & Trainings", kpiProjects: "Major Projects",
        sideTitle: "Quick Bio",
        sideText: "Duty Manager for the Diriyah Security & Traffic project; active in professional associations and building digital tools to boost operational reporting.",
        sideChips: ["Power BI","Django","Flutter","MapLibre / GIS"],
        achievementsTitle: "Key Achievements",
        achievementsDesc: "Impact-driven highlights with measurable results.",
        certificatesTitle: "Certificates & Courses",
        certificatesDesc: "A curated sample with preview links.",
        skillsTitle: "Skills & Tools",
        skillsDesc: "Domains of technical and operational expertise.",
        skills: [
          { title: "Security & Safety Mgmt", meta: "Ops plans, risk assessment, incident response, team training.", chips:["SOPs","Risk","HSE"]},
          { title: "Data Analytics & Dashboards", meta: "KPIs, indicators, heatmaps, multi-source data.", chips:["Power BI","Excel","Vega"]},
          { title: "Digital Transformation", meta: "Internal apps, form automation, DB integrations.", chips:["Django","Flutter","Supabase"]},
        ],
        contactTitle: "Contact Info",
        contactHint: "Update these details before publishing.",
        contactList: [
          { label: "Email", value: PROFILE.email, href: `mailto:${PROFILE.email}`},
          { label: "Phone", value: PROFILE.phone },
          { label: "LinkedIn", value: "linkedin.com/in/s3dsu", href: PROFILE.linkedin },
        ],
        cvTitle: "Curriculum Vitae",
        cvHint: "Add the public link to your PDF CV.",
        cvBtn: "Download CV (PDF)",
        modalClose: "Close",
        certPreview: "Preview",
        certOpen: "Open Image",
        footer: {
          copy: ()=>`© ${new Date().getFullYear()} All rights reserved • Personal site`,
          chips: ["Fast & lightweight","Responsive design","Launch-ready"],
        },
      }
    };

    // إنجازات وشهادات ثنائية اللغة
    const ACHIEVEMENTS = [
      { ar: { title: "نجاح خطة اليوم الوطني 2025 – الدرعية", detail: "تنسيق الأمن والحركة مع الجهات الشريكة وتفعيل غرفة العمليات ولوحات مباشرة، ما خفّض زمن الاستجابة وضمن انسيابية الحركة." }, en: { title: "Saudi National Day 2025 – Diriyah", detail: "Coordinated security & traffic ops with partners; live ops room & dashboards reduced response time and kept flow smooth." }, year: 2025 },
      { ar: { title: "لوحة مؤشرات تشغيلية موحّدة (KPI Dashboard)", detail: "ربط مصادر (الحوادث، المرور، الصيانة) وتفعيل فلاتر تفاعلية وتقارير تلقائية؛ تقليل زمن إعداد التقرير اليومي بنسبة 60٪." }, en: { title: "Unified KPI Dashboard", detail: "Integrated incidents/traffic/maintenance data with interactive filters & auto reports; cut daily report prep time by 60%." }, year: 2024 },
      { ar: { title: "تطوير SOPs لإدارة الحشود والفعاليات", detail: "صياغة إجراءات تشغيل قياسية، وجداول توزيع الأفراد، ومسارات تدخل سريع متوافقة مع أفضل الممارسات." }, en: { title: "Crowd & Events SOPs", detail: "Standardized procedures, staffing rosters, and rapid-response routes aligned with best practices." }, year: 2023 },
      { ar: { title: "أتمتة تقارير نهاية الوردية", detail: "نماذج رقمية وتوليد PDF تلقائيًّا، وتوحيد قوالب البلاغات والملخص اليومي." }, en: { title: "Shift-End Report Automation", detail: "Digital forms, auto-generated PDFs, and unified incident/daily summary templates." }, year: 2022 },
    ];

    const CERTIFICATES = [
      { ar:{ title:"إدارة المخاطر المهنية", org:"مركز تدريب معتمد" }, en:{ title:"Occupational Risk Management", org:"Accredited Training Center" }, year:"2024", img:"https://images.unsplash.com/photo-1543286386-2e659306cd6c?q=80&w=1200&auto=format&fit=crop" },
      { ar:{ title:"التحقيق في الحوادث", org:"مركز تدريب" }, en:{ title:"Incident Investigation", org:"Training Center" }, year:"2023", img:"https://images.unsplash.com/photo-1520607162513-77705c0f0d4a?q=80&w=1200&auto=format&fit=crop" },
      { ar:{ title:"الإسعافات الأولية والإنعاش القلبي الرئوي", org:"جهة مانحة" }, en:{ title:"First Aid & CPR", org:"Provider" }, year:"2023", img:"https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?q=80&w=1200&auto=format&fit=crop" },
      { ar:{ title:"قيادة فرق الأمن في الفعاليات", org:"مؤسسة تدريب" }, en:{ title:"Leading Security Teams in Events", org:"Training Institute" }, year:"2022", img:"https://images.unsplash.com/photo-1559028012-481c04fa702d?q=80&w=1200&auto=format&fit=crop" },
      { ar:{ title:"Power BI متقدم", org:"منصة تدريب" }, en:{ title:"Power BI Advanced", org:"Training Platform" }, year:"2022", img:"https://images.unsplash.com/photo-1542744173-8e7e53415bb0?q=80&w=1200&auto=format&fit=crop" },
    ];

    // ===== التحكم باللغة والاتجاه =====
    let lang = 'ar';
    function setDir(){ document.documentElement.lang = lang; document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr'; }
    function el(id){ return document.getElementById(id); }

    // أرقام دائماً إنجليزية
    function fmtNum(n){ return Number(n).toLocaleString('en-US'); }

    // تحويل سنة ميلادية إلى هجرية (سنة فقط) باستخدام تقويم أم القرى
    function hijriYearFromGregorianYear(gy){
      const date = new Date(gy, 5, 30); // منتصف السنة
      const fmt = new Intl.DateTimeFormat('en-u-ca-islamic-umalqura', { year:'numeric' });
      return fmt.format(date); // e.g., 1447
    }

    function renderChips(targetId, items){
      const box = el(targetId); box.innerHTML = '';
      items.forEach(t=>{ const s = document.createElement('span'); s.className='chip'; s.textContent=t; box.appendChild(s); });
    }

    function renderSkills(list){
      const grid = el('skillsGrid'); grid.innerHTML = '';
      list.forEach(s=>{
        const card = document.createElement('div'); card.className='card';
        const chips = s.chips.map(c=>`<span class="chip">${c}</span>`).join('');
        card.innerHTML = `<div class="card__body"><h3 class="card__title">${s.title}</h3><p class="meta">${s.meta}</p><div class="chips">${chips}</div></div>`;
        grid.appendChild(card);
      });
    }

    function renderAchievements(){
      const ul = el('achievementsList'); ul.innerHTML='';
      ACHIEVEMENTS.forEach(a=>{
        const li = document.createElement('li'); li.className='tl card';
        const t = a[lang].title, d = a[lang].detail; const hy = hijriYearFromGregorianYear(a.year);
        const yearText = lang==='ar' ? `${fmtNum(a.year)} • ${hy} هـ` : `${fmtNum(a.year)} • ${hy} AH`;
        li.innerHTML = `<span class="dot"></span><div class="card__body"><h4>${t}</h4><div class="meta">${yearText}</div><p style="margin:.3rem 0 0">${d}</p></div>`;
        ul.appendChild(li);
      });
    }

    function renderCertificates(){
      const box = el('certsBox'); box.innerHTML='';
      CERTIFICATES.forEach(c=>{
        const div = document.createElement('div'); div.className='cert';
        const t = c[lang].title, org = c[lang].org;
        div.innerHTML = `
          <img src="${c.img}" alt="${t}" loading="lazy" />
          <div>
            <h4 class="cert__title">${t}</h4>
            <div class="meta">${org} • ${fmtNum(c.year)}</div>
            <div style="margin-top:6px; display:flex; gap:8px; flex-wrap:wrap">
              <button class="btn btn--ghost" data-preview>${I18N[lang].certPreview}</button>
              <a class="btn btn--accent" href="${c.img}" target="_blank" rel="noopener">${I18N[lang].certOpen}</a>
            </div>
          </div>`;
        box.appendChild(div);
      });
    }

    function applyLang(){
      setDir();
      const t = I18N[lang];
      el('brandTxt').textContent = t.brand;
      el('navAch').textContent = t.nav.ach;
      el('navCert').textContent = t.nav.cert;
      el('navCV').textContent = t.nav.cv;
      el('langToggle').textContent = lang === 'ar' ? 'EN' : 'AR';

      el('heroBadge').textContent = t.heroBadge;
      el('heroTitle').innerHTML = t.heroTitle(PROFILE);
      el('heroLead').textContent = t.heroLead;
      el('profileImg').src = PROFILE.photo;
      renderChips('heroChips', t.heroChips);

      el('kpi-years').textContent = fmtNum(PROFILE.years);
      el('kpi-certs').textContent = fmtNum(PROFILE.certsCount) + '+';
      el('kpi-projects').textContent = fmtNum(PROFILE.projectsCount);
      el('kpiYearsLbl').textContent = t.kpiYears;
      el('kpiCertsLbl').textContent = t.kpiCerts;
      el('kpiProjectsLbl').textContent = t.kpiProjects;

      el('sideTitle').textContent = t.sideTitle;
      el('sideText').textContent = t.sideText;
      renderChips('sideChips', t.sideChips);

      el('achievementsTitle').textContent = t.achievementsTitle;
      el('achievementsDesc').textContent = t.achievementsDesc;
      renderAchievements();

      el('certificatesTitle').textContent = t.certificatesTitle;
      el('certificatesDesc').textContent = t.certificatesDesc;
      renderCertificates();

      el('skillsTitle').textContent = t.skillsTitle;
      el('skillsDesc').textContent = t.skillsDesc;
      renderSkills(t.skills);

      el('contactTitle').textContent = t.contactTitle;
      el('contactHint').textContent = t.contactHint;
      const list = el('contactList'); list.innerHTML = '';
      function iconSvg(type){
        if(type==='email') return '<svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 6h16v12H4z" stroke="currentColor" stroke-width="1.5"/><path d="M4 7l8 6 8-6" stroke="currentColor" stroke-width="1.5"/></svg>';
        if(type==='phone') return '<svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 2h4l2 5-3 2a14 14 0 006 6l2-3 5 2v4c0 1.1-.9 2-2 2A16 16 0 012 8c0-1.1.9-2 2-2h2z" stroke="currentColor" stroke-width="1.5"/></svg>';
        if(type==='whatsapp') return '<svg class="icon" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20.5 3.5A10 10 0 006.1 19.2L3 21l1.8-3a10 10 0 1015.7-14.5zM7.7 9.1c.2-.4.3-.5.7-.5h.5c.2 0 .4 0 .5.3l.4 1c.1.3.1.5-.1.7l-.3.4c-.2.2-.2.5 0 .8a6.7 6.7 0 002.9 2.9c.3.2.6.2.8 0l.4-.3c.2-.2.4-.2.7-.1l1 .4c.2.1.3.3.3.5v.5c0 .4-.1.5-.5.7-.3.2-.8.3-1.4.3-1.3 0-2.8-.7-4.2-2.1-1.4-1.4-2.1-2.9-2.1-4.2 0-.6.1-1.1.3-1.4z"/></svg>';
        if(type==='linkedin') return '<svg class="icon" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M4.98 3.5A2.5 2.5 0 105 8.5 2.5 2.5 0 004.98 3.5zM3 9h4v12H3zM10 9h4v2h.1a4.4 4.4 0 014-2.2c4.3 0 5.1 2.8 5.1 6.5V21h-4v-5c0-1.2 0-2.8-1.8-2.8s-2.1 1.3-2.1 2.7V21h-4z"/></svg>';
        return '';
      }
      t.contactList.forEach(item=>{
        const li = document.createElement('li');
        const icon = iconSvg(item.type);
        if(item.href){
          li.innerHTML = `<a class="iconbtn" href="${item.href}" target="_blank" rel="noopener" aria-label="${item.label}" title="${item.label}">${icon}</a>`;
        } else {
          li.innerHTML = `<span class="iconbtn" aria-label="${item.label}" title="${item.label}">${icon}</span>`;
        }
        list.appendChild(li);
      });

      el('cvTitle').textContent = t.cvTitle;
      el('cvHint').textContent = t.cvHint;
      el('cvBtn').textContent = t.cvBtn;

      el('closeModal').textContent = t.modalClose;

      // Footer
      el('copyright').textContent = t.footer.copy();
      const [c1,c2,c3] = t.footer.chips; el('f1').textContent=c1; el('f2').textContent=c2; el('f3').textContent=c3;
    }

    // Modal Preview
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const modalTitle = document.getElementById('modalTitle');
    const closeModal = document.getElementById('closeModal');

    document.addEventListener('click', (e)=>{
      if(e.target.matches('[data-preview]')){
        const parent = e.target.closest('.cert');
        const img = parent.querySelector('img');
        const title = parent.querySelector('.cert__title').textContent;
        modalImg.src = img.src; modalTitle.textContent = title; modal.style.display='grid';
      }
      if(e.target === modal){ modal.style.display='none'; }
    });
    closeModal.addEventListener('click', ()=> modal.style.display='none');

    // Toggle language
    document.getElementById('langToggle').addEventListener('click', ()=>{ lang = (lang==='ar'?'en':'ar'); applyLang(); });

    // Init
    applyLang();
  </script>
</body>
</html>
