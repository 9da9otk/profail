<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>سعد السبيعي | الشهادات والإنجازات</title>
  <meta name="description" content="سعد السبيعي — موقع ثنائي اللغة لعرض الإنجازات والشهادات والخبرات المهنية في الأمن والسلامة وإدارة العمليات." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="سعد السبيعي | الشهادات والإنجازات">
  <meta property="og:description" content="إنجازات وشهادات ومهارات — نسخة خفيفة ثنائية اللغة.">
  <meta property="og:image" content="cover.png">
  <meta property="og:locale" content="ar_SA">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="SaaD AlsuBaie | Certificates & Achievements">
  <meta name="twitter:description" content="Bilingual portfolio with achievements, certifications, and contact icons on top.">
  <meta name="twitter:image" content="cover.png">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop stop-color="#0f172a"/><stop offset="1" stop-color="#06b6d4"/></linearGradient></defs><rect width="64" height="64" rx="12" fill="url(%23g)"/><text x="50%" y="54%" text-anchor="middle" font-family="Verdana" font-size="36" fill="white">S</text></svg>' />

  <style>
    :root{
      --brand-primary:#0f172a;   /* Navy professional */
      --brand-primary-2:#0b1221; /* deeper navy */
      --brand-accent:#06b6d4;    /* cyan */
      --sand:#f6f7fb;
      --ink:#0a0a0a;
      --muted:#667085;
      --card:#ffffff;
      --shadow:0 10px 30px rgba(2,6,23,.12);
      --radius:20px;
      --max:1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; background:linear-gradient(180deg,var(--sand),#ffffff 40%); color:var(--ink); font-family:"Cairo",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; line-height:1.7; overflow-x:hidden}
    a{color:var(--brand-accent); text-decoration:none}
    img{max-width:100%; display:block}
    .container{width:100%; max-width:var(--max); margin-inline:auto; padding:0 20px}

    /* Header */
    header{position:sticky; top:0; z-index:50; backdrop-filter:saturate(1.2) blur(8px); background:linear-gradient(180deg, rgba(246,247,251,.86), rgba(255,255,255,.7)); border-bottom:1px solid #eee}
    .nav{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:12px 0}
    .brand{display:flex; align-items:center; gap:12px}
    .brand__logo{width:40px; height:40px; border-radius:12px; background:linear-gradient(135deg,var(--brand-primary),var(--brand-primary-2)); display:grid; place-items:center; color:#fff; font-weight:800}
    .brand__txt{font-weight:800; letter-spacing:.5px}
    .nav__cta{display:flex; gap:10px; align-items:center}

    .btn{border:0; cursor:pointer; padding:10px 16px; border-radius:12px; font-weight:700}
    .btn--ghost{background:#fff; border:1px solid #eee}
    .btn--accent{background:var(--brand-accent); color:#05202a}

    /* Top contact icons */
    .contact-top{display:flex; gap:10px; align-items:center; list-style:none; margin:0; padding:0}
    .contact-top li{list-style:none}
    .icon{width:20px; height:20px; display:inline-block}
    .iconbtn{display:grid; place-items:center; width:40px; height:40px; border-radius:12px; background:#fff; border:1px solid #e6e6e6; box-shadow:var(--shadow); color:var(--brand-primary)}
    .iconbtn:hover{transform:translateY(-1px); box-shadow:0 12px 24px rgba(2,6,23,.12)}

    /* Hero */
    .hero{position:relative; padding:56px 0 28px; overflow:hidden}
    .hero__grid{display:grid; grid-template-columns:1.2fr .8fr; gap:28px; align-items:center}
    .profile{display:flex; gap:14px; align-items:center; margin-top:12px; justify-content:flex-end}
    .profile img{width:92px; height:92px; border-radius:18px; object-fit:cover; border:3px solid #fff; box-shadow:var(--shadow)}
    .badge{display:inline-flex; align-items:center; gap:8px; padding:6px 12px; border-radius:999px; font-weight:700; background:linear-gradient(90deg,var(--brand-primary),var(--brand-primary-2)); color:#fff}
    h1{margin:16px 0 8px; font-size:clamp(28px,5vw,40px); line-height:1.2}
    .lead{color:#333; font-size:18px; max-width:60ch}
    .hero__card{background:var(--card); border:1px solid #eee; border-radius:var(--radius); padding:18px; box-shadow:var(--shadow)}
    .kpis{display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-top:16px}
    .kpi{background:#fff; border:1px solid #eee; border-radius:16px; padding:14px; text-align:center}
    .kpi strong{display:block; font-size:22px; color:var(--brand-primary)}

    /* Section */
    section{padding:34px 0}
    .section__head{display:flex; align-items:center; justify-content:space-between; margin-bottom:18px}
    .section__title{font-size:24px; margin:0}
    .section__desc{color:var(--muted)}

    /* Cards Grid */
    .grid{display:grid; gap:16px}
    .grid--3{grid-template-columns:repeat(3,1fr)}
    .grid--2{grid-template-columns:repeat(2,1fr)}
    @media (max-width:900px){.hero__grid{grid-template-columns:1fr}.grid--3{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:640px){.grid--3,.grid--2{grid-template-columns:1fr}}

    .card{background:var(--card); border:1px solid #eee; border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden}
    .card__body{padding:16px}
    .card__title{margin:0 0 6px; font-size:18px}
    .meta{color:var(--muted); font-size:14px}

    /* Timeline */
    .timeline{position:relative; margin:6px 0 0; padding:0; list-style:none}
    .timeline::before{content:""; position:absolute; inset-inline-start:18px; top:0; bottom:0; width:2px; background:linear-gradient(var(--brand-accent), transparent)}
    .tl{position:relative; margin:0 0 18px 0; padding-inline-start:48px}
    .tl::marker{content:""}
    .tl .dot{position:absolute; inset-inline-start:10px; top:2px; width:18px; height:18px; border-radius:50%; background:var(--brand-accent); border:3px solid #fff; box-shadow:0 0 0 2px rgba(34,211,238,.35)}
    .tl h4{margin:0 0 6px}

    /* Certificates Gallery */
    .cert{display:grid; grid-template-columns:84px 1fr; gap:14px; align-items:center; padding:14px; border-top:1px dashed #eee}
    .cert:first-child{border-top:0}
    .cert img{width:84px; height:64px; object-fit:cover; border-radius:10px; border:1px solid #eee}
    .cert__title{margin:0; font-size:16px}

    /* Footer */
    footer{padding:28px 0 48px; border-top:1px solid #eee; background:#fff}
    .foot{display:flex; gap:12px; justify-content:space-between; align-items:center; flex-wrap:wrap}
    .foot .chips{display:none} /* تمت الإزالة حسب طلبك */

    /* Chips */
    .chips{display:flex; gap:8px; flex-wrap:wrap}
    .chip{background:#fff; border:1px solid #eee; border-radius:999px; padding:6px 10px; font-size:14px}

    /* Utilities */
    .accent{color:var(--brand-accent)}
    .surface{background:#fff; border-radius:var(--radius); border:1px solid #eee; box-shadow:var(--shadow)}
    .hidden{display:none}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <div class="brand__logo" aria-hidden>CV</div>
        <div class="brand__txt" id="brandTxt">شهاداتي وإنجازاتي</div>
      </div>
      <nav class="nav__cta" aria-label="Main navigation">
        <a id="navAch" href="#achievements" class="btn btn--ghost">الإنجازات</a>
        <a id="navCert" href="#certificates" class="btn btn--ghost">الشهادات</a>
        <a id="navCV" href="cv.pdf" class="btn btn--accent" target="_blank" rel="noopener" download>تحميل السيرة</a>
        <button id="langToggle" class="btn btn--ghost" aria-label="Language">EN</button>
        <!-- أيقونات التواصل في الأعلى -->
        <ul id="contactTop" class="contact-top" aria-label="روابط تواصل"></ul>
      </nav>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero">
      <div class="container hero__grid">
        <div>
          <span class="badge" id="heroBadge">سيرة مهنية • أمن وسلامة</span>
          <h1 id="heroTitle">مرحبًا، أنا <span class="accent">سعد السبيعي</span></h1>
          <p class="lead" id="heroLead">هذا الموقع يعرض إنجازاتي وشهاداتي وروابط الأعمال والتوصيات.</p>

          <div class="profile">
            <div class="chips" id="heroChips"></div>
            <img id="profileImg" src="profile.jpg" alt="صورة شخصية – سعد السبيعي"
                 onerror="this.onerror=null; this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><defs><linearGradient id=%22g%22 x1=%220%22 y1=%220%22 x2=%221%22 y2=%221%22><stop stop-color=%22#0f172a%22/><stop offset=%221%22 stop-color=%22#06b6d4%22/></linearGradient></defs><rect width=%22128%22 height=%22128%22 rx=%2220%22 fill=%22url(%23g)%22/><circle cx=%2264%22 cy=%2250%22 r=%2222%22 fill=%22white%22/><rect x=%2226%22 y=%2280%22 width=%2276%22 height=%2232%22 rx=%2216%22 fill=%22white%22/></svg>'" />
          </div>

          <div class="kpis" aria-label="Key numbers">
            <div class="kpi"><strong id="kpi-years">20</strong><span class="meta" id="kpiYearsLbl">سنوات خبرة</span></div>
            <div class="kpi"><strong id="kpi-certs">60+</strong><span class="meta" id="kpiCertsLbl">شهادة وتدريب</span></div>
            <div class="kpi"><strong id="kpi-projects">30</strong><span class="meta" id="kpiProjectsLbl">مشروع رئيسي</span></div>
          </div>
        </div>

        <aside>
          <div class="hero__card">
            <div class="section__head" style="margin:0 0 6px"><h3 class="section__title" id="sideTitle" style="font-size:18px">نبذة سريعة</h3></div>
            <p id="sideText" style="margin:0 0 8px">مدير مناوب لمشروع الأمن والحركة المرورية في الدرعية، وDuty Manager في stc (الشركة الوطنية للخدمات الأمنية – سيف)، مع خبرة واسعة في إدارة الأمن والسلامة والتحول الرقمي ولوحات المؤشرات.</p>
            <div class="chips" id="sideChips"></div>
          </div>
        </aside>
      </div>
    </section>

    <!-- ACHIEVEMENTS -->
    <section id="achievements">
      <div class="container">
        <div class="section__head">
          <h2 class="section__title" id="achievementsTitle">الإنجازات البارزة</h2>
          <p class="section__desc" id="achievementsDesc">ملخص لأهم الإنجازات المرتبطة بالنتائج والأثر.</p>
        </div>
        <ul class="timeline" id="achievementsList"></ul>
      </div>
    </section>

    <!-- CERTIFICATES -->
    <section id="certificates">
      <div class="container">
        <div class="section__head">
          <h2 class="section__title" id="certificatesTitle">الشهادات والدورات</h2>
          <p class="section__desc" id="certificatesDesc">عينة منتقاة من الشهادات مع روابط ومعاينة.</p>
        </div>
        <div class="surface" style="padding:6px" id="certsBox"></div>
      </div>
    </section>

    <!-- SKILLS / TOOLS -->
    <section id="skills">
      <div class="container">
        <div class="section__head">
          <h2 class="section__title" id="skillsTitle">المهارات والأدوات</h2>
          <p class="section__desc" id="skillsDesc">مجالات الخبرة التقنية والعملية.</p>
        </div>
        <div class="grid grid--3" id="skillsGrid"></div>
      </div>
    </section>

    <!-- CONTACT / CV ONLY (الأيقونات انتقلت للأعلى) -->
    <section id="contact">
      <div class="container">
        <div class="grid grid--2">
          <div class="card"><div class="card__body">
            <h3 class="card__title" id="cvTitle">ملف السيرة الذاتية</h3>
            <p class="meta" id="cvHint">أضف رابطًا لملف PDF الخاص بسيرتك الذاتية.</p>
            <a class="btn btn--accent" id="cvBtn" href="cv.pdf" target="_blank" rel="noopener" download>تنزيل السيرة الذاتية (PDF)</a>
          </div></div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container foot">
      <small id="copyright">© 2025 جميع الحقوق محفوظة • موقع شخصي</small>
      <div class="chips"></div>
    </div>
  </footer>

  <script>
    // ===== البيانات من السيرة =====
    const PROFILE = {
      name: "سعد السبيعي",
      years: 20,
      certsCount: 60,
      projectsCount: 30,
      email: "sa888e@gmail.com",
      phone: "0571441777",
      linkedin: "https://www.linkedin.com/in/s3dsu",
      photo: "profile.jpg" // ضع الصورة بجانب index.html
    };

    // الأرقام دائمًا إنجليزية
    const fmtNum = (n) => Number(n).toLocaleString('en-US');

    // تقويم هجري (سنة فقط)
    const hijriYearFromGregorianYear = (gy) => {
      try {
        const date = new Date(gy, 5, 30);
        const fmt = new Intl.DateTimeFormat('en-u-ca-islamic-umalqura', { year:'numeric' });
        return fmt.format(date); // مثال: 1447
      } catch { return ""; }
    };

    // المحتوى ثنائي اللغة
    const I18N = {
      ar: {
        brand: "شهاداتي وإنجازاتي",
        nav: { ach: "الإنجازات", cert: "الشهادات", cv: "تحميل السيرة" },
        heroBadge: "سيرة مهنية • أمن وسلامة",
        heroTitle: (p)=>`مرحبًا، أنا <span class="accent">${p.name}</span> — مدير مناوب وقائد عمليات أمن وسلامة بخبرة تتجاوز <strong>${fmtNum(p.years)}+ سنة</strong>.`,
        heroLead: "هذا الموقع يعرض إنجازاتي وشهاداتي وروابط الأعمال والتوصيات. واجهة احترافية وخفيفة للعرض في السيرة الذاتية.",
        heroChips: ["إدارة العمليات","السلامة وإدارة المخاطر","لوحات مؤشرات KPI","GIS & Power BI"],
        kpiYears: "سنوات خبرة", kpiCerts: "شهادة وتدريب", kpiProjects: "مشروع رئيسي",
        sideTitle: "نبذة سريعة",
        sideText: "Duty Manager في stc (الشركة الوطنية للخدمات الأمنية — سيف)، تطوير لوحات مؤشرات وتحول رقمي، وخبرة تشغيلية في إدارة الحشود والفعاليات.",
        sideChips: ["Power BI","Microsoft Office","Photoshop","Security Systems"],
        achievementsTitle: "الإنجازات البارزة",
        achievementsDesc: "ملخص لأهم الإنجازات المرتبطة بالنتائج والأثر.",
        certificatesTitle: "الشهادات والدورات",
        certificatesDesc: "عينة منتقاة من الشهادات مع روابط ومعاينة.",
        skillsTitle: "المهارات والأدوات",
        skillsDesc: "مجالات الخبرة التقنية والعملية.",
        skills: [
          { title: "إدارة أمن وسلامة", meta: "خطط تشغيل، تقييم مخاطر، استجابة للحوادث، تدريب فرق.", chips:["SOPs","Risk","HSE"]},
          { title: "تحليل البيانات ولوحات التحكم", meta: "مقاييس الأداء، مؤشرات، خرائط حرارية.", chips:["Power BI","Excel","Vega"]},
          { title: "تحول رقمي وأتمتة", meta: "نماذج رقمية وتقارير PDF وتكامل نظم أمنية.", chips:["Django","Flutter","Systems"]},
        ],
        contactList: [
          { type: "email",    label: "البريد",   href: `mailto:${PROFILE.email}`},
          { type: "phone",    label: "الهاتف",   href: `tel:+966571441777`},
          { type: "whatsapp", label: "واتساب",   href: `https://wa.me/966571441777`},
          { type: "linkedin", label: "لينكدإن",  href: PROFILE.linkedin },
        ],
        cvTitle: "ملف السيرة الذاتية",
        cvHint: "أضف رابطًا لملف PDF الخاص بسيرتك الذاتية.",
        cvBtn: "تنزيل السيرة الذاتية (PDF)",
        modalClose: "إغلاق",
        certPreview: "معاينة",
        certOpen: "فتح الصورة",
        footer: {
          copy: ()=>`© ${new Date().getFullYear()} جميع الحقوق محفوظة • موقع شخصي`,
          chips: [],
        },
      },
      en: {
        brand: "Certificates & Achievements",
        nav: { ach: "Achievements", cert: "Certificates", cv: "Download CV" },
        heroBadge: "Professional Profile • HSE & Security",
        heroTitle: (p)=>`Hi, I'm <span class="accent">${p.name}</span> — Duty Manager & Operations Lead with <strong>${fmtNum(p.years)}+ years</strong> in Security & Safety.`,
        heroLead: "A fast, bilingual site showcasing achievements, certifications, and skills.",
        heroChips: ["Operations Management","Safety & Risk","KPI Dashboards","GIS & Power BI"],
        kpiYears: "Years Experience", kpiCerts: "Certs & Trainings", kpiProjects: "Major Projects",
        sideTitle: "Quick Bio",
        sideText: "Duty Manager at stc (National Security Services Company – Saif). Building dashboards and digital workflows with hands-on field leadership.",
        sideChips: ["Power BI","Microsoft Office","Photoshop","Security Systems"],
        achievementsTitle: "Key Achievements",
        achievementsDesc: "Impact-driven highlights with measurable results.",
        certificatesTitle: "Certificates & Courses",
        certificatesDesc: "A curated sample with preview links.",
        skillsTitle: "Skills & Tools",
        skillsDesc: "Domains of technical and operational expertise.",
        skills: [
          { title: "Security & Safety Mgmt", meta: "Ops plans, risk assessment, incident response, team training.", chips:["SOPs","Risk","HSE"]},
          { title: "Data Analytics & Dashboards", meta: "KPIs, indicators, heatmaps.", chips:["Power BI","Excel","Vega"]},
          { title: "Digital Transformation", meta: "Forms, PDFs, security systems integration.", chips:["Django","Flutter","Systems"]},
        ],
        contactList: [
          { type: "email",    label: "Email",    href: `mailto:${PROFILE.email}`},
          { type: "phone",    label: "Phone",    href: `tel:+966571441777`},
          { type: "whatsapp", label: "WhatsApp", href: `https://wa.me/966571441777`},
          { type: "linkedin", label: "LinkedIn", href: PROFILE.linkedin },
        ],
        cvTitle: "Curriculum Vitae",
        cvHint: "Add the public link to your PDF CV.",
        cvBtn: "Download CV (PDF)",
        modalClose: "Close",
        certPreview: "Preview",
        certOpen: "Open Image",
        footer: {
          copy: ()=>`© ${new Date().getFullYear()} All rights reserved • Personal site`,
          chips: [],
        },
      }
    };

    const ACHIEVEMENTS = [
      { ar:{title:"نجاح خطة اليوم الوطني — الدرعية", detail:"تنسيق الأمن والحركة مع الشركاء وتفعيل غرفة عمليات ولوحات مباشرة، خفّض زمن الاستجابة وضمن انسيابية الحركة."},
        en:{title:"Saudi National Day – Diriyah", detail:"Coordinated security & traffic ops with partners; live dashboards reduced response time and kept flow smooth."},
        year: 2025 },
      { ar:{title:"لوحة مؤشرات تشغيلية موحّدة (KPI)", detail:"تكامل مصادر (بلاغات/مرور/صيانة) وفلاتر تفاعلية وتقارير تلقائية؛ تقليل زمن إعداد التقرير اليومي 60٪."},
        en:{title:"Unified KPI Dashboard", detail:"Integrated incidents/traffic/maintenance with interactive filters & auto reports; 60% faster daily reporting."},
        year: 2024 },
    ];

    const CERTIFICATES = [
      { ar:{title:"Power BI متقدم", org:"منصة تدريب"}, en:{title:"Power BI Advanced", org:"Training Platform"}, year:"2022", img:"https://images.unsplash.com/photo-1542744173-8e7e53415bb0?q=80&w=1200&auto=format&fit=crop" },
      { ar:{title:"إدارة المخاطر المهنية", org:"جهة معتمدة"}, en:{title:"Occupational Risk Mgmt", org:"Accredited"}, year:"2024", img:"https://images.unsplash.com/photo-1543286386-2e659306cd6c?q=80&w=1200&auto=format&fit=crop" },
    ];

    // Helpers
    const el = (id) => document.getElementById(id);
    const setDir = () => { document.documentElement.lang = lang; document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr'; };
    const iconSvg = (type)=>{
      if(type==='email') return '<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="5" width="18" height="14" rx="2"/><polyline points="3,7 12,13 21,7"/></svg>';
      if(type==='phone') return '<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.63-3.07 19.3 19.3 0 0 1-6-6A19.8 19.8 0 0 1 2.09 4.18 2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.12.9.33 1.77.62 2.61a2 2 0 0 1-.45 2.11L8 9a16 16 0 0 0 7 7l.56-1.28a2 2 0 0 1 2.11-.45c.84.29 1.71.5 2.61.62A2 2 0 0 1 22 16.92z"/></svg>';
      if(type==='whatsapp') return '<svg class="icon" viewBox="0 0 24 24" fill="currentColor"><path d="M20.52 3.48A11 11 0 0 0 3.49 20.5L2 22l1.7-.45A11 11 0 1 0 20.52 3.48zm-3.6 13.1c-.18.53-1.04 1-1.45 1.02-.37.02-.84.03-1.35-.08a9.2 9.2 0 0 1-4.06-2.44 10.24 10.24 0 0 1-2.32-3.4c-.47-1.1-.1-1.86.07-2.14.18-.29.4-.45.67-.46l.51-.01c.16 0 .36.01.56.43.21.43.72 1.75.79 1.88.06.13.1.28.02.45-.08.17-.12.27-.25.42-.13.15-.26.33-.37.45-.12.12-.25.25-.11.5.14.25.64 1.06 1.38 1.72.95.84 1.74 1.1 2 .1.25-.99.91-.83 1.54-.67.39.1 1.24.58 1.46.71.22.13.37.2.43.32.06.12.06.68-.12 1.21z"/></svg>';
      if(type==='linkedin') return '<svg class="icon" viewBox="0 0 24 24" fill="currentColor"><path d="M4.98 3.5A2.5 2.5 0 105 8.5 2.5 2.5 0 004.98 3.5zM3 9h4v12H3zM10 9h4v2h.1a4.4 4.4 0 014-2.2c4.3 0 5.1 2.8 5.1 6.5V21h-4v-5c0-1.2 0-2.8-1.8-2.8s-2.1 1.3-2.1 2.7V21h-4z"/></svg>';
      return '';
    };

    function renderChips(targetId, items){
      const box = el(targetId); box.innerHTML = '';
      items.forEach(t=>{ const s = document.createElement('span'); s.className='chip'; s.textContent=t; box.appendChild(s); });
    }
    function renderSkills(list){
      const grid = el('skillsGrid'); grid.innerHTML = '';
      list.forEach(s=>{
        const card = document.createElement('div'); card.className='card';
        const chips = s.chips.map(c=>`<span class="chip">${c}</span>`).join('');
        card.innerHTML = `<div class="card__body"><h3 class="card__title">${s.title}</h3><p class="meta">${s.meta}</p><div class="chips">${chips}</div></div>`;
        grid.appendChild(card);
      });
    }
    function renderAchievements(){
      const ul = el('achievementsList'); ul.innerHTML='';
      ACHIEVEMENTS.forEach(a=>{
        const li = document.createElement('li'); li.className='tl card';
        const t = a[lang].title, d = a[lang].detail; const hy = hijriYearFromGregorianYear(a.year);
        const yearText = lang==='ar' ? `${fmtNum(a.year)} • ${hy} هـ` : `${fmtNum(a.year)} • ${hy} AH`;
        li.innerHTML = `<span class="dot"></span><div class="card__body"><h4>${t}</h4><div class="meta">${yearText}</div><p style="margin:.3rem 0 0">${d}</p></div>`;
        ul.appendChild(li);
      });
    }
    function renderCertificates(){
      const box = el('certsBox'); box.innerHTML='';
      CERTIFICATES.forEach(c=>{
        const div = document.createElement('div'); div.className='cert';
        const t = c[lang].title, org = c[lang].org;
        div.innerHTML = `
          <img src="${c.img}" alt="${t}" loading="lazy" />
          <div>
            <h4 class="cert__title">${t}</h4>
            <div class="meta">${org} • ${fmtNum(c.year)}</div>
            <div style="margin-top:6px; display:flex; gap:8px; flex-wrap:wrap">
              <a class="btn btn--ghost" href="${c.img}" target="_blank" rel="noopener">${I18N[lang].certPreview}</a>
              <a class="btn btn--accent" href="${c.img}" target="_blank" rel="noopener">${I18N[lang].certOpen}</a>
            </div>
          </div>`;
        box.appendChild(div);
      });
    }

    let lang = 'ar';
    const applyLang = ()=>{
      setDir();
      const t = I18N[lang];

      // Header
      el('brandTxt').textContent = t.brand;
      el('navAch').textContent = t.nav.ach;
      el('navCert').textContent = t.nav.cert;
      el('navCV').textContent = t.nav.cv;
      el('langToggle').textContent = lang === 'ar' ? 'EN' : 'AR';

      // Hero
      el('heroBadge').textContent = t.heroBadge;
      el('heroTitle').innerHTML = t.heroTitle(PROFILE);
      el('heroLead').textContent = t.heroLead;
      el('profileImg').src = PROFILE.photo;
      renderChips('heroChips', t.heroChips);

      // KPIs
      el('kpi-years').textContent = fmtNum(PROFILE.years);
      el('kpi-certs').textContent = fmtNum(PROFILE.certsCount) + '+';
      el('kpi-projects').textContent = fmtNum(PROFILE.projectsCount);
      el('kpiYearsLbl').textContent = t.kpiYears;
      el('kpiCertsLbl').textContent = t.kpiCerts;
      el('kpiProjectsLbl').textContent = t.kpiProjects;

      // Side
      el('sideTitle').textContent = t.sideTitle;
      el('sideText').textContent = t.sideText;
      renderChips('sideChips', t.sideChips);

      // Sections
      el('achievementsTitle').textContent = t.achievementsTitle;
      el('achievementsDesc').textContent = t.achievementsDesc;
      renderAchievements();

      el('certificatesTitle').textContent = t.certificatesTitle;
      el('certificatesDesc').textContent = t.certificatesDesc;
      renderCertificates();

      el('skillsTitle').textContent = t.skillsTitle;
      el('skillsDesc').textContent = t.skillsDesc;
      renderSkills(t.skills);

      // Contact icons at top
      const top = el('contactTop'); top.innerHTML='';
      t.contactList.forEach(item=>{
        const li = document.createElement('li');
        const icon = iconSvg(item.type);
        li.innerHTML = `<a class="iconbtn" href="${item.href}" target="_blank" rel="noopener" aria-label="${item.label}" title="${item.label}">${icon}</a>`;
        top.appendChild(li);
      });

      // Footer
      document.querySelector('footer small').textContent = t.footer.copy();
    };

    document.addEventListener('DOMContentLoaded', ()=>{
      try{
        applyLang();
        document.getElementById('langToggle').addEventListener('click', ()=>{
          lang = (lang === 'ar' ? 'en' : 'ar');
          applyLang();
        });
      }catch(err){ console.error(err); }
    });
  </script>
</body>
</html>
